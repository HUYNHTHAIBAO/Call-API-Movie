{"ast":null,"code":"import _regeneratorRuntime from\"D:/PROJECT/Movie API/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/PROJECT/Movie API/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/PROJECT/Movie API/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import useDebounce from\"./hooks/useDebounce\";import LoadingSkeleton from\"./loading/LoadingSkeleton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MovieSearchAPI=function MovieSearchAPI(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var queryDebounce=useDebounce(query,500);// console.log(queryDebounce);\nvar _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return axios.get(\"https://api.themoviedb.org/3/search/movie?api_key=647c2db1d376cfd9a87f5a11d1108e6b&query='\".concat(queryDebounce,\"'\"));case 4:response=_context.sent;if(response.data.results){setMovie(response.data.results);console.log(response.data.results);setLoading(false);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _getData.apply(this,arguments);}getData();},[queryDebounce]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-[100px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"input\",{className:\"border border-[#ccc] py-[10px] px-[20px] w-[400px] outline-0 rounded\",type:\"search\",name:\"search\",id:\"\",placeholder:\"Search movie...\",onChange:function onChange(e){return setQuery(e.target.value);}})}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-col-5 gap-10 mt-[50px]\",children:[/*#__PURE__*/_jsx(MovieLoading,{}),/*#__PURE__*/_jsx(MovieLoading,{}),/*#__PURE__*/_jsx(MovieLoading,{}),/*#__PURE__*/_jsx(MovieLoading,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-5 gap-10 mt-[50px] \",children:!loading&&(movie===null||movie===void 0?void 0:movie.map(function(item){return/*#__PURE__*/_jsx(MovieItem,{props:item},item.id);}))})]});};var MovieLoading=function MovieLoading(){return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-[#ccc] flex flex-col \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-[400px] h-[400px] \",children:/*#__PURE__*/_jsx(LoadingSkeleton,{width:\"100%\",height:\"100%\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-[20px] flex flex-1 flex-col\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold pb-4\",children:/*#__PURE__*/_jsx(LoadingSkeleton,{width:\"100%\",height:\"20px\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"pb-4 opacity-40\",children:[/*#__PURE__*/_jsx(LoadingSkeleton,{width:\"100%\",height:\"10px\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2\"}),/*#__PURE__*/_jsx(LoadingSkeleton,{width:\"100%\",height:\"20px\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2\"}),/*#__PURE__*/_jsx(LoadingSkeleton,{width:\"100%\",height:\"20px\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex mt-auto\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(LoadingSkeleton,{width:\"50px\",height:\"20px\"})})})]})]});};var MovieItem=function MovieItem(_ref){var props=_ref.props;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-[#ccc] flex flex-col rounded-2xl bg-[#cbd5e1] cursor-pointer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-[200px] h-[200px] mx-auto\",children:/*#__PURE__*/_jsx(\"img\",{className:\"p-2 object-cover object-center w-full h-full rounded-xl \",src:\"https://image.tmdb.org/t/p/original/\".concat(props.poster_path),alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-[20px] flex flex-1 flex-col\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold pb-4 \",children:props.title}),/*#__PURE__*/_jsx(\"p\",{className:\"pb-4 opacity-40 text-sm \",children:props.overview}),/*#__PURE__*/_jsx(\"div\",{className:\"flex mt-auto\",children:/*#__PURE__*/_jsx(\"span\",{children:props.vote_average})})]})]});};export default MovieSearchAPI;","map":{"version":3,"names":["axios","React","useEffect","useState","useDebounce","LoadingSkeleton","MovieSearchAPI","movie","setMovie","query","setQuery","queryDebounce","loading","setLoading","getData","get","response","data","results","console","log","e","target","value","map","item","id","MovieLoading","MovieItem","props","poster_path","title","overview","vote_average"],"sources":["D:/PROJECT/Movie API/my-app/src/components/MovieSearchAPI.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport useDebounce from \"./hooks/useDebounce\";\r\nimport LoadingSkeleton from \"./loading/LoadingSkeleton\";\r\n\r\nconst MovieSearchAPI = () => {\r\n  const [movie, setMovie] = useState([]);\r\n  const [query, setQuery] = useState();\r\n  const queryDebounce = useDebounce(query, 500);\r\n  // console.log(queryDebounce);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    async function getData() {\r\n      setLoading(true);\r\n      try {\r\n        const response = await axios.get(\r\n          `https://api.themoviedb.org/3/search/movie?api_key=647c2db1d376cfd9a87f5a11d1108e6b&query='${queryDebounce}'`\r\n        );\r\n        if (response.data.results) {\r\n          setMovie(response.data.results);\r\n          console.log(response.data.results);\r\n          setLoading(false);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    getData();\r\n  }, [queryDebounce]);\r\n  return (\r\n    <div className=\"p-[100px]\">\r\n      <div className=\"text-center\">\r\n        <input\r\n          className=\"border border-[#ccc] py-[10px] px-[20px] w-[400px] outline-0 rounded\"\r\n          type=\"search\"\r\n          name=\"search\"\r\n          id=\"\"\r\n          placeholder=\"Search movie...\"\r\n          onChange={(e) => setQuery(e.target.value)}\r\n        />\r\n      </div>\r\n      {loading && (\r\n        <div className=\"grid grid-col-5 gap-10 mt-[50px]\">\r\n          <MovieLoading></MovieLoading>\r\n          <MovieLoading></MovieLoading>\r\n          <MovieLoading></MovieLoading>\r\n          <MovieLoading></MovieLoading>\r\n        </div>\r\n      )}\r\n      <div className=\"grid grid-cols-5 gap-10 mt-[50px] \">\r\n        {!loading &&\r\n          movie?.map((item) => (\r\n            <MovieItem key={item.id} props={item}></MovieItem>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst MovieLoading = () => {\r\n  return (\r\n      <div className=\"border border-[#ccc] flex flex-col \">\r\n        <div className=\"w-[400px] h-[400px] \">\r\n          <LoadingSkeleton width=\"100%\" height=\"100%\"></LoadingSkeleton>\r\n        </div>\r\n        <div className=\"p-[20px] flex flex-1 flex-col\">\r\n          <h2 className=\"font-bold pb-4\">\r\n            <LoadingSkeleton width=\"100%\" height=\"20px\"></LoadingSkeleton>\r\n          </h2>\r\n          <p className=\"pb-4 opacity-40\">\r\n            <LoadingSkeleton width=\"100%\" height=\"10px\"></LoadingSkeleton>\r\n            <div className=\"h-2\"></div>\r\n            <LoadingSkeleton width=\"100%\" height=\"20px\"></LoadingSkeleton>\r\n            <div className=\"h-2\"></div>\r\n            <LoadingSkeleton width=\"100%\" height=\"20px\"></LoadingSkeleton>\r\n          </p>\r\n          <div className=\"flex mt-auto\">\r\n            <span>\r\n              <LoadingSkeleton width=\"50px\" height=\"20px\"></LoadingSkeleton>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nconst MovieItem = ({ props }) => {\r\n  return (\r\n    <div className=\"border border-[#ccc] flex flex-col rounded-2xl bg-[#cbd5e1] cursor-pointer\">\r\n      <div className=\"w-[200px] h-[200px] mx-auto\">\r\n        <img\r\n          className=\"p-2 object-cover object-center w-full h-full rounded-xl \"\r\n          src={`https://image.tmdb.org/t/p/original/${props.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div className=\"p-[20px] flex flex-1 flex-col\">\r\n        <h2 className=\"font-bold pb-4 \">{props.title}</h2>\r\n        <p className=\"pb-4 opacity-40 text-sm \">{props.overview}</p>\r\n        <div className=\"flex mt-auto\">\r\n          <span>{props.vote_average}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default MovieSearchAPI;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}